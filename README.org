#+TITLE: Code used for PhD project
#+DATE: 2020-07-25
#+OPTIONS: toc:nil author:nil title:nil date:nil num:nil ^:{} \n:1 todo:nil
#+PROPERTY: header-args :eval never-export
#+LATEX_HEADER: \usepackage[margin=1.0in]{geometry}
#+LATEX_HEADER: \hypersetup{colorlinks=true,citecolor=black,linkcolor=black,urlcolor=blue,linkbordercolor=blue,pdfborderstyle={/S/U/W 1}}
#+LATEX_HEADER: \usepackage[round]{natbib}
#+LATEX_HEADER: \renewcommand{\bibsection}
#+ARCHIVE: daily_archive.org::datetree/* From master todo

Analysis and utility code used for thesis project. 

* LFP
- analysis routines for LFP extracellular recording analysis.
** script design
** DONE add IO file organization
   CLOSED: [2020-06-27 Sat 06:58]
** DONE write analysis which will save images of each experiment
   CLOSED: [2020-06-27 Sat 06:58]
** DONE save data from each good experiment?
   CLOSED: [2020-06-27 Sat 06:58]
Manual writing an =exclude.json=

* patch_clamp
** steps for spikes
- =count_steps.py= iterates through all paths and all sweeps, recording all the peaks in the database. 
- This script can be run from the =patch= virtual environment, from the =ephys= directory using:
  =python patch_clamp/count_steps.py=
  - Careful, the query string is specific to the database table!
- For analysis, we will pull those values out of the database and write them to =json= via =serialize_cc01.py=. From the =ephys= directory use:
  =python patch_clamp/serialize_cc01.py=
  - Careful, this is a rough file with vars you need to change throughout.
  - Ensure the query string constant is correct /and/ ensure the file path for write out is correct.
  - The current set will end with =_higher_threhsold.json=.
- =membrane_potential.py= measures the mean membrane potential for the first ~0.5s of the file to get a baseline for possible exclusion of files later. 
- *(TODO)* Next step is to read it into R for further analysis.
** R analysis steps for spikes
*** DONE map sweeps to current steps
    CLOSED: [2020-10-14 Wed 14:24]
*** DONE add to database table
    CLOSED: [2020-10-14 Wed 16:47]
*** In-progress compare half max current and max current step freq
*** TODO glm 
=spike ~ current+side*treatment= 
ensure that the side is L/R for all
*** ISI calculations. need to test this

* utility
Miscellaneous scripts used for analysis or organization tasks
** Table of contents
